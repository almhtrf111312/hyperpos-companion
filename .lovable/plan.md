
# إصلاح صفحة تحويل العهدة (Stock Transfer) - بصريًا ووظيفيًا

## المشاكل المحددة

### 1. تداخل العنوان مع زر القائمة الجانبية
العنوان "تحويل العهدة" والنص التوضيحي أسفله مغطيان بزر القائمة الجانبية على الموبايل. السبب: غياب `rtl:pr-14 ltr:pl-14` على الهيدر.

### 2. تصميم حوار إنشاء أمر صرف جديد سيء بصريًا
الحوار الحالي يحتاج تحسينات:
- تباعد أفضل بين العناصر
- تنظيم حقول البحث والكمية بشكل أوضح
- تحسين عرض قائمة المنتجات المضافة على الموبايل

### 3. حوار استرداد العهدة يجب أن يعمل بنفس طريقة أمر الصرف
حاليًا: يعرض قائمة كاملة بجميع المنتجات المتاحة عند الموزع ويجب الضغط على كل منتج لإضافته.
المطلوب: نفس تجربة إنشاء أمر صرف - بحث عن المنتج بالاسم أو الباركود، اختيار الكمية، ثم إضافة.

---

## التغييرات التقنية

### الملف: `src/pages/StockTransfer.tsx`

**1. إصلاح تداخل العنوان (سطر 586)**
- إضافة `rtl:pr-14 ltr:pl-14 md:rtl:pr-0 md:ltr:pl-0` للهيدر

**2. تحسين حوار إنشاء أمر الصرف بصريًا**
- تحسين تخطيط حقول "من/إلى" ليكون عمودًا واحدًا على الموبايل (`grid-cols-1 sm:grid-cols-2`)
- إضافة labels أوضح وتباعد أفضل بين عناصر البحث والكمية
- تحسين عرض جدول المنتجات المضافة على الشاشات الصغيرة ليكون بطاقات بدلاً من جدول

**3. إعادة بناء حوار استرداد العهدة**
- استبدال القائمة الكاملة للمنتجات بنظام بحث مشابه لحوار الصرف
- إضافة حقل بحث (بالاسم أو الباركود) يبحث فقط في منتجات الموزع المحدد
- إضافة زر ماسح الباركود
- إضافة حقل الكمية مع أزرار (+/-) 
- عرض الكمية المتاحة بجانب كل منتج عند البحث
- التحقق من أن الكمية المطلوبة لا تتجاوز المتاح
- الحفاظ على نفس جدول المنتجات المختارة الموجود حاليًا
