

# تحسينات واجهة القائمة الجانبية والإشعارات على الموبايل

## 1. تصغير عرض القائمة الجانبية على الموبايل
**الملف:** `src/components/layout/Sidebar.tsx`

العرض الحالي `w-64` (256px) أكبر من اللازم. سيتم تصغيره إلى `w-52` (208px) ليتناسب مع أطول نص ("الصندوق والوردية").

## 2. ترتيب رأس القائمة الجانبية على الموبايل
**الملف:** `src/components/layout/Sidebar.tsx`

- "FlowPOS Pro" + الوصف يظهران في سطر واحد (بدون تقطيع)
- زر الإشعارات (NotificationBell) وزر المزامنة (SyncStatusMenu) يظهران بجانبهما
- زر الإغلاق (X) يبقى في مكانه

## 3. تحسين الإشعارات (Toasts)

### 3.1 تصغير العرض وإنزال الموقع
**الملف:** `src/components/ui/sonner.tsx`

- إضافة `offset` لإنزال الإشعارات قليلاً عن أعلى الشاشة (مثلاً 60px)
- العرض الحالي `min(75vw, 300px)` مناسب لكنه يحتاج ضبط على الموبايل - سيتم تقليله إلى `min(65vw, 280px)`

### 3.2 دعم السحب للحذف (Swipe to dismiss)
**الملف:** `src/components/ui/sonner.tsx`

مكتبة Sonner تدعم السحب أصلاً عبر خاصية `swipeDirections`. سيتم تفعيل السحب لليمين واليسار:
```
swipeDirections={['left', 'right']}
```

## 4. إصلاح إشعار عودة الاتصال
**الملف:** `src/hooks/use-network-status.tsx`

المشكلة: عند عودة الاتصال يظهر أحياناً إشعار "انقطع الاتصال" بدلاً من "عاد الاتصال". السبب هو أن throttle في toast-config قد يمنع إشعار النجاح ويسمح لإشعار قديم بالظهور. الحل:
- استخدام `toast.dismiss()` لإزالة أي إشعارات سابقة قبل إظهار إشعار عودة الاتصال
- تأخير بسيط قبل إظهار إشعار عودة الاتصال لضمان إزالة الإشعارات القديمة

## التفاصيل التقنية

### الملفات المعدّلة:
1. `src/components/layout/Sidebar.tsx` - تصغير عرض القائمة + ترتيب الرأس
2. `src/components/ui/sonner.tsx` - offset + swipe directions + عرض أصغر
3. `src/hooks/use-network-status.tsx` - إصلاح إشعار عودة الاتصال
4. `src/components/layout/MainLayout.tsx` - تحديث المسافة الجانبية لتتوافق مع العرض الجديد (من mr-64 إلى mr-52)

