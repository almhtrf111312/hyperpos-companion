

## خطة: إظهار حقول المنتجات المناسبة لنوع المحل فقط

---

### المشكلة

حالياً عند الدخول لقسم "حقول المنتجات" في الإعدادات، تظهر جميع الحقول الـ 13 بغض النظر عن نوع المحل. مثلاً في وضع "المخبز" يظهر حقل "الرقم التسلسلي (IMEI)" وحقل "نوع القماش" وهذا غير منطقي.

### الحل

تصفية الحقول المعروضة بناءً على نوع المحل الحالي. الحقول التي قيمتها `true` في `getDefaultFieldsByStoreType` هي الحقول المرتبطة بنوع المحل وستظهر فقط. الحقول غير المرتبطة (قيمتها `false`) لن تظهر في الإعدادات.

### مثال

- **مخبز (bakery)**: يظهر فقط "سعر الجملة" (الحقل الوحيد المفعل افتراضياً)
- **صيدلية (pharmacy)**: تظهر "تاريخ الصلاحية"، "رقم التشغيلة"، "سعر الجملة"، "الحد الأدنى للمخزون"
- **هواتف (phones)**: تظهر "الرقم التسلسلي"، "الضمان"، "سعر الجملة"، "الحد الأدنى للمخزون"
- **عام (general)**: لا تظهر أي حقول (لأن كلها `false` افتراضياً) - سيظهر نص توضيحي بدلاً منها

### التغييرات

| الملف | التعديل |
|-------|---------|
| `src/components/settings/ProductFieldsSection.tsx` | تصفية مصفوفة `fields` لتعرض فقط الحقول التي قيمتها `true` في الإعدادات الافتراضية لنوع المحل الحالي |

### التفاصيل التقنية

في `ProductFieldsSection.tsx`، بدلاً من:
```text
const fields = Object.keys(FIELD_LABELS) as Array<keyof ProductFieldsConfig>;
```

سيصبح:
```text
const defaults = getDefaultFieldsByStoreType(storeType as StoreType);
const fields = (Object.keys(FIELD_LABELS) as Array<keyof ProductFieldsConfig>)
  .filter(field => defaults[field]);
```

هذا يعني أن الحقول المعروضة يتم تحديدها من الإعدادات الافتراضية لنوع المحل فقط. إذا لم تكن هناك حقول مرتبطة بنوع المحل (مثل "عام")، ستظهر رسالة "لا توجد حقول إضافية لهذا النوع من المتاجر".

