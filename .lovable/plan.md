

## خطة: إضافة خاصية "نسيت كلمة المرور"

### كيف تعمل؟
1. المستخدم يضغط "نسيت كلمة المرور؟" في صفحة تسجيل الدخول
2. يدخل بريده الإلكتروني
3. يصله رابط على بريده الإلكتروني
4. يضغط الرابط ويفتح صفحة لإدخال كلمة مرور جديدة
5. يتم تحديث كلمة المرور تلقائياً

### الملفات المطلوبة

| الملف | النوع | الوصف |
|-------|-------|-------|
| `src/pages/Login.tsx` | تعديل | إضافة رابط "نسيت كلمة المرور؟" ونافذة إدخال البريد |
| `src/pages/ResetPassword.tsx` | إنشاء | صفحة إدخال كلمة المرور الجديدة |
| `src/App.tsx` | تعديل | إضافة مسار `/reset-password` كمسار عام |
| `src/lib/i18n.ts` | تعديل | إضافة ترجمات الرسائل الجديدة (عربي، إنجليزي، تركي، فارسي، كردي، فرنسي) |

### التفاصيل التقنية

#### 1. تعديل Login.tsx
- إضافة رابط "نسيت كلمة المرور؟" تحت حقل كلمة المرور
- عند الضغط، تظهر نافذة Dialog لإدخال البريد الإلكتروني
- يتم استدعاء `supabase.auth.resetPasswordForEmail(email, { redirectTo })` لإرسال رابط إعادة التعيين
- عرض رسالة نجاح بعد الإرسال

#### 2. إنشاء ResetPassword.tsx
- صفحة عامة (بدون حماية تسجيل دخول)
- تتحقق من وجود `type=recovery` في رابط URL
- تعرض نموذج لإدخال كلمة المرور الجديدة مع تأكيدها
- تستدعي `supabase.auth.updateUser({ password })` لتحديث كلمة المرور
- بعد النجاح، توجه المستخدم لصفحة تسجيل الدخول

#### 3. تعديل App.tsx
- إضافة `<Route path="/reset-password" element={<ResetPassword />} />` ضمن المسارات العامة

#### 4. ترجمات جديدة في i18n.ts
- `auth.forgotPasswordTitle` — عنوان نافذة نسيت كلمة المرور
- `auth.forgotPasswordDesc` — وصف النافذة
- `auth.sendResetLink` — زر إرسال الرابط
- `auth.resetSent` — رسالة نجاح الإرسال
- `auth.resetPassword` — عنوان صفحة إعادة التعيين
- `auth.newPassword` / `auth.confirmNewPassword` — حقول كلمة المرور الجديدة
- `auth.passwordUpdated` — رسالة نجاح التحديث
- `auth.passwordMismatch` — رسالة عدم تطابق كلمات المرور

### النتيجة
- المستخدم يستطيع إعادة تعيين كلمة مروره بنفسه عبر بريده الإلكتروني
- لا يحتاج التواصل مع المبرمج
- يعمل على الهاتف والويب
