
# اصلاح تصميم الهاتف المحمول - إدارة التراخيص والمستخدمين والنسخ الاحتياطي

## المشاكل المحددة
1. بطاقات التراخيص: الأزرار (إلغاء/حذف) تخرج عن الشاشة أفقيا لأن التصميم يستخدم صف أفقي واحد
2. بطاقات المستخدمين: نفس المشكلة - الأزرار (تعديل/حذف/كلمة مرور) تخرج عن الشاشة
3. بطاقات النسخ الاحتياطي: نفس المشكلة مع أزرار الاستعادة والحذف
4. أكواد التفعيل: الكود والأزرار في صف واحد يضيق على الهاتف
5. زر القائمة الجانبية (MobileMenuTrigger): يظهر عائما بشكل غير جميل

## الحل

### 1. ملف `src/components/settings/LicenseManagement.tsx`

**أكواد التفعيل (سطر 298):**
- تحويل من `flex items-center justify-between` الى تصميم يتكدس عموديا على الهاتف
- الكود والبادجات في السطر الأول
- الأزرار (نسخ/حذف) + عدد الأيام في السطر الثاني

**بطاقات التراخيص (سطر 337-385):**
- تحويل التصميم من صف أفقي واحد الى بطاقة عمودية:
  - السطر الأول: الاسم + الحالة (تجريبي/مفعل/ملغى)
  - السطر الثاني: البريد الإلكتروني
  - السطر الثالث: تاريخ الانتهاء + الفئة
  - السطر الرابع: أزرار إلغاء وحذف بعرض كامل

**رأس القسم (سطر 264-284):**
- تكديس العنوان والأزرار عموديا على الهاتف بدلا من صف واحد

### 2. ملف `src/pages/Settings.tsx`

**بطاقات المستخدمين (سطر 1208-1253):**
- تحويل من صف أفقي واحد الى بطاقة عمودية:
  - السطر الأول: الصورة الرمزية + الاسم + الدور
  - السطر الثاني: البريد الإلكتروني
  - السطر الثالث: أزرار (كلمة مرور/تعديل/حذف) بعرض كامل

**بطاقات النسخ الاحتياطي (سطر 1355-1371):**
- تكديس عمودي: التاريخ والحجم فوق، والأزرار تحت

### 3. ملف `src/components/layout/Sidebar.tsx` (MobileMenuTrigger)

- تحسين مظهر زر فتح القائمة ليبدو أكثر تكاملا مع التصميم
- جعله أصغر حجما وأقل بروزا (مثلا: شريط جانبي صغير بدل مربع عائم)

## التفاصيل التقنية

### نمط البطاقة الجديد للتراخيص:
```text
<div className="flex flex-col gap-2 p-3 rounded-lg bg-muted">
  <!-- السطر 1: الاسم + الحالة -->
  <div className="flex items-center justify-between">
    <span>اسم المستخدم</span>
    <Badge>مفعّل</Badge>
  </div>
  <!-- السطر 2: البريد -->
  <span className="text-xs text-muted-foreground">email@example.com</span>
  <!-- السطر 3: التاريخ -->
  <span className="text-xs">ينتهي: 2025-06-01</span>
  <!-- السطر 4: الأزرار -->
  <div className="flex gap-2 pt-1 border-t">
    <Button size="sm">إلغاء</Button>
    <Button size="sm" variant="destructive">حذف</Button>
  </div>
</div>
```

### نمط البطاقة الجديد للمستخدمين:
```text
<div className="flex flex-col gap-2 p-4 bg-muted rounded-xl">
  <!-- معلومات المستخدم -->
  <div className="flex items-center gap-3">
    <Avatar />
    <div>
      <p>الاسم</p>
      <p>البريد</p>
      <p>الدور</p>
    </div>
  </div>
  <!-- الأزرار في صف منفصل -->
  <div className="flex gap-2 pt-2 border-t border-border/50">
    <Button size="sm">كلمة المرور</Button>
    <Button size="sm">تعديل</Button>
    <Button size="sm" variant="destructive">حذف</Button>
  </div>
</div>
```

### تحسين MobileMenuTrigger:
```text
تصغير الحجم من w-12 h-12 الى w-10 h-10
تقليل border-radius
إضافة خلفية شبه شفافة backdrop-blur
```
