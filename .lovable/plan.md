

## خطة إصلاح: شاشة سوداء + تحسينات صفحة الخصوصية + تنظيف الترجمة

### المشكلة الرئيسية: شاشة سوداء على الهاتف

**التشخيص بعد الفحص المباشر:**

عند فتح التطبيق وقد تمت الموافقة على الخصوصية مسبقاً، تظهر شاشة سوداء بالكامل. السبب:
- صفحة الخصوصية تتجاوز (لأن المستخدم وافق سابقاً)
- شاشات التحميل في `LicenseGuard` و `ProtectedRoute` تستخدم `bg-background` (CSS variable)
- في WebView على أندرويد، أحياناً لا يتم تحميل CSS بسرعة كافية، فتكون الخلفية سوداء والنص أسود ايضاً

**الحل:**
إضافة ألوان احتياطية (inline styles) على جميع شاشات التحميل والانتظار

---

### المشكلة الثانية: نص الـ checkbox

النص الحالي: "الموافقة على الشروط والأحكام"
النص المطلوب: "أوافق على الشروط وإخلاء المسؤولية"

---

### المشكلة الثالثة: مفاتيح ترجمة قديمة

لا تزال مفاتيح قديمة موجودة في ملف الترجمة رغم عدم استخدامها:
- `privacy.termsButton`
- `privacy.termsDialogTitle`

---

### الملفات المطلوب تعديلها

| الملف | العملية |
|-------|---------|
| `src/components/license/LicenseGuard.tsx` | تعديل - إضافة inline styles لجميع شاشات التحميل |
| `src/components/auth/ProtectedRoute.tsx` | تعديل - إضافة inline styles لشاشة التحميل |
| `src/lib/i18n.ts` | تعديل - تحديث نص checkbox + حذف مفاتيح قديمة |
| `src/lib/settings-version.ts` | تعديل - رفع رقم الإصدار |

---

### التفاصيل التقنية

#### 1. LicenseGuard.tsx
```text
- جميع div التي تحتوي على bg-background تحتاج إلى:
  style={{ backgroundColor: '#0a0a0a', color: '#fafafa' }}
- يوجد 3 شاشات تحميل داخل LicenseGuard:
  1. شاشة التحميل العادية (سطر 171)
  2. شاشة التحميل مع timeout (سطر 149)
  3. شاشة انتظار التجربة (سطر 222)
- إضافة inline style على كل منها
```

#### 2. ProtectedRoute.tsx
```text
- شاشة التحميل (سطر 17) تستخدم bg-background
- شاشة التحقق من الجهاز (سطر 29) تستخدم bg-background
- إضافة inline style على كلتيهما
```

#### 3. i18n.ts
```text
- تعديل: privacy.agreeCheckbox
  العربية: "أوافق على الشروط وإخلاء المسؤولية"
  الإنجليزية: "I agree to the Terms and Disclaimer"
  التركية: "Şartları ve Sorumluluk Reddini Kabul Ediyorum"
- حذف: privacy.termsButton (غير مستخدم)
- حذف: privacy.termsDialogTitle (غير مستخدم)
```

#### 4. settings-version.ts
```text
- رفع SETTINGS_VERSION من 2 إلى 3
- لإجبار التطبيق على تحديث الإعدادات المحلية
```

---

### النتائج المتوقعة

1. لا شاشة سوداء عند فتح التطبيق - جميع شاشات التحميل لها ألوان احتياطية مرئية
2. نص الـ checkbox يعكس "أوافق على الشروط وإخلاء المسؤولية" بدلاً من "الموافقة على الشروط والأحكام"
3. صفحة الخصوصية تظهر مباشرة بدون زر (هذا يعمل بالفعل بشكل صحيح)
4. ملف الترجمة نظيف بدون مفاتيح غير مستخدمة

