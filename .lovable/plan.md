

## خطة: إعادة هيكلة القائمة الجانبية ودمج الأقسام

### ملخص التغييرات

1. **دمج الديون داخل صفحة العملاء** كتبويبين (العملاء | الديون)
2. **نقل الشركاء إلى الإعدادات** كتبويب جديد
3. **إزالة الشركاء والديون من القائمة الجانبية**

---

### التغييرات المطلوبة

#### 1. تعديل: `src/components/layout/Sidebar.tsx`

- إزالة عنصرين من مصفوفة `navItems`:
  - `{ icon: CreditCard, translationKey: 'nav.debts', path: '/debts' }` (سطر 55)
  - `{ icon: UserCheck, translationKey: 'nav.partners', path: '/partners', adminOnly: true }` (سطر 57)
- تغيير تسمية العملاء إلى "العملاء والديون" باستخدام مفتاح ترجمة جديد `nav.customersAndDebts`

#### 2. تعديل: `src/pages/Customers.tsx`

- إضافة مكون `Tabs` من shadcn/ui في أعلى الصفحة
- التبويب الأول: "العملاء" -- يحتوي على المحتوى الحالي لصفحة العملاء
- التبويب الثاني: "الديون" -- يعرض مكون `Debts` (استيراده من `src/pages/Debts.tsx`)
- دعم الانتقال المباشر للتبويب عبر URL parameter (مثلاً `?tab=debts`)

#### 3. تعديل: `src/pages/Settings.tsx`

- إضافة تبويب جديد "الشركاء" في مصفوفة `settingsTabs` (سطر 200)
  - `{ id: 'partners', label: t('nav.partners'), icon: UserCheck, adminOnly: true }`
- إضافة عرض مكون `Partners` عند اختيار تبويب `partners`
- استيراد مكون `Partners` من `src/pages/Partners.tsx`

#### 4. تعديل: `src/App.tsx`

- إبقاء route `/debts` لكن توجيهه لصفحة العملاء مع تبويب الديون مفتوح
- إبقاء route `/partners` لكن توجيهه للإعدادات مع تبويب الشركاء مفتوح
- هذا يضمن عدم كسر أي روابط داخلية موجودة

#### 5. تعديل: `src/lib/i18n.ts`

- إضافة مفتاح ترجمة جديد `nav.customersAndDebts` بجميع اللغات:
  - العربية: "العملاء والديون"
  - الإنجليزية: "Customers & Debts"
  - التركية: "Müşteriler ve Borçlar"
  - الفارسية: "مشتریان و بدهی‌ها"
  - الكردية: "کڕیارەکان و قەرزەکان"
- إضافة مفاتيح للتبويبات:
  - `customers.tabCustomers`: "العملاء" / "Customers" / ...
  - `customers.tabDebts`: "الديون" / "Debts" / ...

---

### التفاصيل التقنية

**هيكل صفحة العملاء الجديدة:**

```text
صفحة العملاء
+----------------------------------+
| العملاء والديون           [+ إضافة] |
| وصف الصفحة                        |
+----------------------------------+
| [العملاء]  [الديون]    <-- تبويبات |
+----------------------------------+
| محتوى التبويب المحدد              |
+----------------------------------+
```

**التوجيهات في App.tsx:**
- `/customers` --> صفحة العملاء (تبويب العملاء)
- `/customers?tab=debts` --> صفحة العملاء (تبويب الديون)
- `/debts` --> إعادة توجيه إلى `/customers?tab=debts`
- `/partners` --> إعادة توجيه إلى `/settings?tab=partners`

**الملفات المعدلة (5 ملفات):**

| الملف | النوع |
|-------|-------|
| `src/components/layout/Sidebar.tsx` | تعديل |
| `src/pages/Customers.tsx` | تعديل |
| `src/pages/Settings.tsx` | تعديل |
| `src/App.tsx` | تعديل |
| `src/lib/i18n.ts` | تعديل |

